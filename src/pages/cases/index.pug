extends ../../layout.pug

mixin case-thumbnail(key, tech, name, desc, background, video, backgroundStyle)
    a.case-thumbnail(href=("/case-" + key), style=("background: " + backgroundStyle))
        img(-lazy-src=background)
        video(playsinline autoplay muted loop)
            source(-data-src=video, type="video/mp4")
        .case-thumbnail__content
            h6!= tech
            h2!= name
            p!= desc

block body
    +section('top')
        +top-bar([ 'sticky', 'padding' ], { currentPage: "/cases" })
    +section('cases full')
        h1= siteData('blocks.label_cases')
        - let cases = siteData('cases');
        .case-thumbnails
            each case0, index in cases
                +case-thumbnail(
                    case0.slug,
                    case0.tech,
                    case0.title,
                    case0.lead,
                    case0.cover,
                    case0.cover_video,
                    ""
                )
    +feedback-form([ 'section' ])
    +footer